<!DOCTYPE HTML>

<!-- I see you like source files, Why not check out www.github.com/piepieninja ? -->

<html>
  <head>
  <style>
    html {
    background: #000000
    }
    canvas {
    width:100%;
    height:100%;
    }
  </style>
  </head>
  <body>
    <canvas id="myCanvas">Your browser does not support the canvas tag.</canvas>
    <script>
      var canvas = document.getElementById('myCanvas');
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
      var ctx = canvas.getContext('2d');
      var cursorOn=1,cursX=10, cursY=30;
      var textColor ="lawngreen";

      /* a map for key codes. may only work on mac? */
      var tbl = [ "", /* 1 */
                "","","","","","","","","","", /* 10 */
                "","","","","","","","","","", /* 20 */
                "","","","","","","","","","", /* 30 */
                "","","","","","","","","","", /* 40 */
                "","","","","","","","0","1","2", /* 50 */
                "3","4","5","6","7","8","9","","","", /* 60 */
                "","","","","a","b","c","d","e","f", /* 70 */
                "g","h","i","j","k","l","m","n","o","p", /* 80 */
                "q","r","s","t","u","v","w","x","y","z", /* 90 */
                "","","","","","","","","","", /* 100 */
                "","","","","","","","","","", /* 110 */
                "","","","","","","","","","", /* 120 */
                "","","","","","","","","","", /* 130 */
                "","","","","","","","","","", /* 140 */
                "","","","","","","","","","", /* 150 */
                "","","","","","","","","","", /* 160 */
                "","","","","","","","","","", /* 170 */
                "","","","","","","","","","", /* 180 */
                "","","","","","","",",","",".", /* 190 */
                "/","","","","","","","","","", /* 200 */
                "","","","","","","","","","", /* 210 */
                "","","","","","","","","[","\\", /* 220 */
                "]","","","","","","","","","", /* 230 */
                "","","","","","","","","","", /* 240 */
                "","","","","","","","","","", /* 250 */
                "","","","","","","","","","", /* 260 */
                "","","","","","","","","","", /* 270 */
                "","","","","","","","","","", /* 280 */
                "","","","","","","","","",""];

      function displayTerm(){
      ctx.fillStyle  = "black";
      ctx.fillRect(0,0,canvas.width,canvas.height);
      ctx.fillStyle = textColor;
      ctx.font = "12px Courier New";
      type("CalebDevelops.com UNIX shell loading...");
      newline(1);
      prompt();
      }

      function prompt(){
      type("User@CalebDevelops.com $");
      }

      function newline(n){
      cursX=10; cursY+=15*n;
      }

      function type(string){
      ctx.fillText(string,cursX,cursY);
      cursX+=string.length*8;
      }

      function flashCursor(){
      if(cursorOn==1) {ctx.fillStyle = textColor; ctx.fillRect(cursX,cursY-11,7,14);}
      else {cursorOff();}
      cursorOn=-cursorOn;
      }

      function cursorOff(){
      ctx.fillStyle = "black";
      ctx.fillRect(cursX,cursY-11,7,14);
      }

      function determineInput(n){
        if (n == 13){
          newline(1);
          prompt();
          return;
        }
        else {
          return tbl[n];
          /* return n for debug */
        }
      }

      function doKeyDown(evt){
      cursorOff();
      /*if(evt.keyCode==13){ newline(1); return;}*/
      ctx.fillStyle = textColor;
      ctx.fillText(determineInput(evt.keyCode),cursX,cursY);
      cursX+=8;
      if(cursX>canvas.width) { /* enter */
      newline(1);}
      }

      displayTerm();
      window.addEventListener('keydown',doKeyDown,true);
      setInterval('flashCursor()',500);

    </script>
  </body>
</html>
